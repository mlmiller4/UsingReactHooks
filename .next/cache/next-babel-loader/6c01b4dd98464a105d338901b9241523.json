{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ML Miller\\\\Documents\\\\Training\\\\UsingReactHooks\\\\src\\\\Speakers.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext, useReducer } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/site.css\";\nimport { Header } from \"../src/Header\";\nimport { Menu } from \"../src/Menu\";\nimport SpeakerData from \"./SpeakerData\";\nimport SpeakerDetail from \"./SpeakerDetail\";\nimport { ConfigContext } from \"./App\";\n\nconst Speakers = ({}) => {\n  const {\n    0: speakingSaturday,\n    1: setSpeakingSaturday\n  } = useState(true);\n  const {\n    0: speakingSunday,\n    1: setSpeakingSunday\n  } = useState(true); //const [speakerList, setSpeakerList] = useState([]);\n\n  function speakersReducer(state, action) {\n    switch (action.type) {\n      case \"setSpeakerList\":\n        {\n          return action.data;\n        }\n\n      default:\n        return state;\n    }\n  }\n\n  const {\n    0: speakerList,\n    1: dispatch\n  } = useReducer(speakersReducer, []);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(true);\n  const context = useContext(ConfigContext);\n  useEffect(() => {\n    setIsLoading(true);\n    new Promise(function (resolve) {\n      setTimeout(function () {\n        resolve();\n      }, 1000);\n    }).then(() => {\n      setIsLoading(false);\n      const speakerListServerFilter = SpeakerData.filter(({\n        sat,\n        sun\n      }) => {\n        return speakingSaturday && sat || speakingSunday && sun;\n      });\n      setSpeakerList(speakerListServerFilter);\n    });\n    return () => {\n      console.log(\"cleanup\");\n    };\n  }, []); // [speakingSunday, speakingSaturday]);\n\n  const handleChangeSaturday = () => {\n    setSpeakingSaturday(!speakingSaturday);\n  };\n\n  const speakerListFiltered = isLoading ? [] : speakerList.filter(({\n    sat,\n    sun\n  }) => speakingSaturday && sat || speakingSunday && sun).sort(function (a, b) {\n    if (a.firstName < b.firstName) {\n      return -1;\n    }\n\n    if (a.firstName > b.firstName) {\n      return 1;\n    }\n\n    return 0;\n  });\n\n  const handleChangeSunday = () => {\n    setSpeakingSunday(!speakingSunday);\n  };\n\n  const heartFavoriteHandler = (e, favoriteValue) => {\n    e.preventDefault();\n    const sessionId = parseInt(e.target.attributes[\"data-sessionid\"].value);\n    setSpeakerList(speakerList.map(item => {\n      if (item.id === sessionId) {\n        item.favorite = favoriteValue;\n        return item;\n      }\n\n      return item;\n    })); //console.log(\"changing session favorte to \" + favoriteValue);\n  };\n\n  if (isLoading) return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Loading...\");\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), __jsx(Menu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"btn-toolbar margintopbottom5 checkbox-bigger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, context.showSpeakerSpeakingDays === false ? null : __jsx(\"div\", {\n    className: \"btn-toolbar  margintopbottom5 checkbox-bigger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"hide\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSaturday,\n    checked: speakingSaturday,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), \"Saturday Speakers\")), __jsx(\"div\", {\n    className: \"form-check-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"form-check-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSunday,\n    checked: speakingSunday,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), \"Sunday Speakers\"))))), __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card-deck\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, speakerListFiltered.map(({\n    id,\n    firstName,\n    lastName,\n    bio,\n    favorite\n  }) => {\n    return __jsx(SpeakerDetail, {\n      key: id,\n      id: id,\n      favorite: favorite,\n      onHeartFavoriteHandler: heartFavoriteHandler,\n      firstName: firstName,\n      lastName: lastName,\n      bio: bio,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    });\n  })))));\n};\n\nexport default Speakers;","map":{"version":3,"sources":["C:/Users/ML Miller/Documents/Training/UsingReactHooks/src/Speakers.js"],"names":["React","useState","useEffect","useContext","useReducer","Header","Menu","SpeakerData","SpeakerDetail","ConfigContext","Speakers","speakingSaturday","setSpeakingSaturday","speakingSunday","setSpeakingSunday","speakersReducer","state","action","type","data","speakerList","dispatch","isLoading","setIsLoading","context","Promise","resolve","setTimeout","then","speakerListServerFilter","filter","sat","sun","setSpeakerList","console","log","handleChangeSaturday","speakerListFiltered","sort","a","b","firstName","handleChangeSunday","heartFavoriteHandler","e","favoriteValue","preventDefault","sessionId","parseInt","target","attributes","value","map","item","id","favorite","showSpeakerSpeakingDays","lastName","bio"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useReducer} from \"react\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../static/site.css\";\r\nimport { Header } from \"../src/Header\";\r\nimport { Menu } from \"../src/Menu\";\r\nimport SpeakerData from \"./SpeakerData\";\r\nimport SpeakerDetail from \"./SpeakerDetail\";\r\nimport { ConfigContext } from \"./App\";\r\n\r\nconst Speakers = ({}) => {\r\n  const [speakingSaturday, setSpeakingSaturday] = useState(true);\r\n  const [speakingSunday, setSpeakingSunday] = useState(true);\r\n\r\n  //const [speakerList, setSpeakerList] = useState([]);\r\n\r\n  function speakersReducer(state, action) {\r\n    switch (action.type) {\r\n      case \"setSpeakerList\": {\r\n        return action.data;\r\n      }\r\n      default: return state;\r\n    }\r\n  }\r\n  const [speakerList, dispatch] = useReducer(speakersReducer, []);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const context = useContext(ConfigContext);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    new Promise(function(resolve) {\r\n      setTimeout(function() {\r\n        resolve();\r\n      }, 1000);\r\n    }).then(() => {\r\n      setIsLoading(false);\r\n      const speakerListServerFilter = SpeakerData.filter(({ sat, sun }) => {\r\n        return (speakingSaturday && sat) || (speakingSunday && sun);\r\n      });\r\n      setSpeakerList(speakerListServerFilter);\r\n    });\r\n    return () => {\r\n      console.log(\"cleanup\");\r\n    };\r\n  }, []); // [speakingSunday, speakingSaturday]);\r\n\r\n  const handleChangeSaturday = () => {\r\n    setSpeakingSaturday(!speakingSaturday);\r\n  };\r\n\r\n  const speakerListFiltered = isLoading\r\n    ? []\r\n    : speakerList\r\n        .filter(\r\n          ({ sat, sun }) => (speakingSaturday && sat) || (speakingSunday && sun)\r\n        )\r\n        .sort(function(a, b) {\r\n          if (a.firstName < b.firstName) {\r\n            return -1;\r\n          }\r\n          if (a.firstName > b.firstName) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n\r\n  const handleChangeSunday = () => {\r\n    setSpeakingSunday(!speakingSunday);\r\n  };\r\n\r\n  const heartFavoriteHandler = (e, favoriteValue) => {\r\n    e.preventDefault();\r\n    const sessionId = parseInt(e.target.attributes[\"data-sessionid\"].value);\r\n    setSpeakerList(speakerList.map(item => {\r\n      if (item.id === sessionId) {\r\n        item.favorite = favoriteValue;\r\n        return item;\r\n      }\r\n      return item;\r\n    }));\r\n    //console.log(\"changing session favorte to \" + favoriteValue);\r\n  };\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Menu />\r\n      <div className=\"container\">\r\n        <div className=\"btn-toolbar margintopbottom5 checkbox-bigger\">\r\n          {context.showSpeakerSpeakingDays === false ? null : (\r\n            <div className=\"btn-toolbar  margintopbottom5 checkbox-bigger\">\r\n              <div className=\"hide\">\r\n                <div className=\"form-check-inline\">\r\n                  <label className=\"form-check-label\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"form-check-input\"\r\n                      onChange={handleChangeSaturday}\r\n                      checked={speakingSaturday}\r\n                    />\r\n                    Saturday Speakers\r\n                  </label>\r\n                </div>\r\n                <div className=\"form-check-inline\">\r\n                  <label className=\"form-check-label\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"form-check-input\"\r\n                      onChange={handleChangeSunday}\r\n                      checked={speakingSunday}\r\n                    />\r\n                    Sunday Speakers\r\n                  </label>\r\n                </div>\r\n              </div> \r\n            </div>\r\n          )}    \r\n        </div> \r\n        <div className=\"row\">\r\n          <div className=\"card-deck\">\r\n            {speakerListFiltered.map(\r\n              ({ id, firstName, lastName, bio, favorite }) => {\r\n                return (\r\n                  <SpeakerDetail\r\n                    key={id}\r\n                    id={id}\r\n                    favorite={favorite}\r\n                    onHeartFavoriteHandler={heartFavoriteHandler}\r\n                    firstName={firstName}\r\n                    lastName={lastName}\r\n                    bio={bio}\r\n                  />\r\n                );\r\n              }\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Speakers;"]},"metadata":{},"sourceType":"module"}