{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _objectDestructuringEmpty from \"@babel/runtime-corejs2/helpers/esm/objectDestructuringEmpty\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/site.css\";\nimport { Header } from \"../src/Header\";\nimport { Menu } from \"../src/Menu\";\nimport SpeakerData from \"./SpeakerData\";\nimport SpeakerDetail from \"./SpeakerDetail\";\n\nvar Speakers = function Speakers(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var _useState = useState(true),\n      speakingSaturday = _useState[0],\n      setSpeakingSaturday = _useState[1];\n\n  var _useState2 = useState(true),\n      speakingSunday = _useState2[0],\n      setSpeakingSunday = _useState2[1];\n\n  var _useState3 = useState([]),\n      speakerList = _useState3[0],\n      setSpeakerList = _useState3[1];\n\n  var _useState4 = useState(true),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  useEffect(function () {\n    setIsLoading(true);\n    new _Promise(function (resolve) {\n      setTimeout(function () {\n        resolve();\n      }, 1000);\n    }).then(function () {\n      setIsLoading(false);\n      var speakerListServerFilter = SpeakerData.filter(function (_ref2) {\n        var sat = _ref2.sat,\n            sun = _ref2.sun;\n        return speakingSaturday && sat || speakingSunday && sun;\n      });\n      setSpeakerList(speakerListServerFilter);\n    });\n    return function () {\n      console.log(\"cleanup\");\n    };\n  }, []); // [speakingSunday, speakingSaturday]);\n\n  var handleChangeSaturday = function handleChangeSaturday() {\n    setSpeakingSaturday(!speakingSaturday);\n  };\n\n  var speakerListFiltered = isLoading ? [] : speakerList.filter(function (_ref3) {\n    var sat = _ref3.sat,\n        sun = _ref3.sun;\n    return speakingSaturday && sat || speakingSunday && sun;\n  }).sort(function (a, b) {\n    if (a.firstName < b.firstName) {\n      return -1;\n    }\n\n    if (a.firstName > b.firstName) {\n      return 1;\n    }\n\n    return 0;\n  });\n\n  var handleChangeSunday = function handleChangeSunday() {\n    setSpeakingSunday(!speakingSunday);\n  };\n\n  var heartFavoriteHandler = function heartFavoriteHandler(e, favoriteValue) {\n    e.preventDefault();\n\n    var sessionId = _parseInt(e.target.attributes[\"data-sessionid\"].value);\n\n    setSpeakerList(speakerList.map(function (item) {\n      if (item.id === sessionId) {\n        item.favorite = favoriteValue;\n        return item;\n      }\n\n      return item;\n    })); //console.log(\"changing session favorte to \" + favoriteValue);\n  };\n\n  if (isLoading) return __jsx(\"div\", null, \"Loading...\");\n  return __jsx(\"div\", null, __jsx(Header, null), __jsx(Menu, null), __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"btn-toolbar  margintopbottom5 checkbox-bigger\"\n  }, __jsx(\"div\", {\n    className: \"hide\"\n  }, __jsx(\"div\", {\n    className: \"form-check-inline\"\n  }, __jsx(\"label\", {\n    className: \"form-check-label\"\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSaturday,\n    checked: speakingSaturday\n  }), \"Saturday Speakers\")), __jsx(\"div\", {\n    className: \"form-check-inline\"\n  }, __jsx(\"label\", {\n    className: \"form-check-label\"\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSunday,\n    checked: speakingSunday\n  }), \"Sunday Speakers\")))), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"card-deck\"\n  }, speakerListFiltered.map(function (_ref4) {\n    var id = _ref4.id,\n        firstName = _ref4.firstName,\n        lastName = _ref4.lastName,\n        bio = _ref4.bio,\n        favorite = _ref4.favorite;\n    return __jsx(SpeakerDetail, {\n      key: id,\n      id: id,\n      favorite: favorite,\n      onHeartFavoriteHandler: heartFavoriteHandler,\n      firstName: firstName,\n      lastName: lastName,\n      bio: bio\n    });\n  })))));\n};\n\nexport default Speakers;","map":null,"metadata":{},"sourceType":"module"}